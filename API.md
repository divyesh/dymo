Get all Tokens
==============

Make GET request at "/tokens.json".

For processed token state will be "completed". For non process tokens state can be one these two. "time_in" or "visit_registered".

Example request
------------------------------

[{"id":1,"no":1,"state":"completed","patient":{"id":1,"healthnumber":"1234567890"},"url":"http://dymo.herokuapp.com/tokens/1.json"}]


Get particular Token with id
============================

Make GET request at "/tokens/7.json". 7 is id of token.

Example request
------------------------------

{"id":7,"no":1,"state":"completed","patient":{"id":4,"healthnumber":"pat001"}}


Generate Token
==============
Make POST request at ```/tokens``` passing ```healthcard``` as params. ```healthcard``` value can be healthnumber or string generated by swiping healthcard.

Example request
---------------

    $ curl localhost:3000/tokens \
      -H "Accept: application/json" \
      -H "Content-type: application/json" \
      -X POST \
      -d '{ "healthcard": "4545454545" }'

    $ curl localhost:3000/tokens/:id/discard \
      -H "Accept: application/json" \
      -H "Content-type: application/json" \
      -X POST

Example response
----------------

    { 
      "id":13,
      "no":1,
      "state":"time_in",
      "add_visit_url":"http://localhost:3000/visits/new?patient_id=1",
      "patient":{
        "id":1
        "firstname":"Firstname"
        "middlename":"Middlename"
        "lastname":"Lastname"
        "healthnumber":"pat001"
        "created_at":"2014-06-28T05:58:43.009Z"
        "updated_at":"2014-06-28T05:58:43.009Z"
        "patient_unique_id":null
        "version_code":"vc"
        "health_expiry_date":"2025-06-28"
        "birthdate":"1983-06-01"
        "gender":"M"
        "marital_status":null
        "address1":"Address 1"
        "address2":"Address 2"
        "city":"City"
        "province":"Province"
        "postal_code":"Postal code"
        "home_phone":"Home phone"
        "mobile":"Mobile"
        "isactive":null
      }
    }
